<!doctype html>

<html>
<head>
  <meta charset="utf-8">
  <title>AngularJS para iniciantes</title>
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="js/angular.min.js"></script>
</head>
<body ng-app="meuApp">

<div ng-controller="controller1" class="form-group">
    <label>Texto</label><br>
    <input type="text" ng-model="texto"><br>
    <button ng-click="mudarTexto()">Enviar</button>
</div>

<div ng-controller="controller2" class="form-group">
    <p>{{valorDoTexto}}</p>
    <button ng-click="mostrar()">Mostrar Valor</button>
</div>

<script> var app = angular.module('meuApp', []);

app.service('$crip', function() {
   this.encrip = function (x) {
   	return x.split("").reverse().join("");
    }
});

app.controller('controller1', function($scope, $crip, $rootScope) {
	mudarTexto = function(){
		return $crip.encrip($scope.texto);	
	}
	$scope.mudarTexto = function ($){
    $rootScope.valor = mudarTexto();
    console.log($rootScope);
  }
});

app.controller('controller2', function($scope, $crip, $rootScope) {
  $scope.mostrar = function(){
    $scope.valorDoTexto = $crip.encrip($rootScope.valor); 
  }
  
});

</script>
</body>
</html>




